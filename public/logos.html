<html>
	<head>
    		<link rel="stylesheet" href="./styles/centrify.css">
    		<link rel="stylesheet" href="./styles/menus.css">
		<link rel="stylesheet" href="./styles/centrify.css">
		<script src="/socket.io/socket.io.js"></script>
		<script src="/scripts/openingCircle.js"></script>
		<link rel="stylesheet" href="./styles/centrify.css">
		<meta charset="UTF-8">
		<style>
			@font-face {
				 font-family: "8bit";
				 src: url("./fonts/8bit.ttf")
			}
			
			body {

				font-family:"8bit";
				background-image: url("./fonts/sky.gif");
        background-position: 0 0;
        background-size: 100% 100%;
				color:white;
				text-align:center;
			}
		</style>
	</head>
	<body style="cursor:none;">
		<div class="center">
			<p id="logo" style="opacity:0;"></p>
		</div>
		<script>
			redirect = "menu.html"
			if (location.href.indexOf("#")==-1) location.href = "#0"
     	if (location.href.indexOf("#")!=-1)
      {
        ldd = document.createElement('audio')
        ldd.setAttribute('autoplay','')
        ldd.setAttribute('loop','')
        ldd.src = '/musics/ldd.mp3'
        document.body.appendChild(ldd)
      }

			logo = document.getElementById("logo");
			nb = parseInt(location.href.split("#")[1])

			function generateCredit(label,text) {
				return `
					${label}
					<br><br><br>
					<h1>
						<b>${text}</b>
					</h1>
				`
			}
			
			logos = [
				generateCredit('Un jeu développé par:','Vixen Studios'),
				generateCredit('En collaboration avec:','Gokiing Studios'),
				generateCredit('Et en collaboration avec:','Le Monde de Roxas'),
				generateCredit('','UN JEU UNIQUE'),
        generateCredit('','<img src="/fonts/banner.jpg">'),
        generateCredit('',' <a href="menu.html"><button onclick="">Jouer</button></a><br><br>')
			]

      window.addEventListener('keydown',(ev)=>{
        //console.log(ev.key)
        if(ev.key=="ArrowLeft" && nb>0) {
          location.href = "#"+(nb-1)
          nb--
          i=0
        }
        else if(ev.key=="ArrowRight") {
          if(nb!=logos.length-1) location.href = "#"+(nb+1)
          else location.href = redirect
          nb++
          i=0
        }
        else if(ev.key!="ArrowLeft") location.href = redirect
			})
						
			i=0;
			setInterval(()=>{
        logo.innerHTML = logos[nb]
				if(i<=100) {logo.style.opacity = i+'%'}
				if(i>=300 && i<=400){logo.style.opacity = (400 - i)+'%'}
				if(i==500) {
					if(nb!=logos.length-2) {
            location.href = "#"+(nb+1)
            i=0
          } 
          if (location.href.indexOf("#5")!=-1) 
          { clearInterval()
            logo.style.opacity = "101%"
            document.body.style.cursor='pointer'
            }
					else 
          {
             location.href= redirect
          }
         
          nb+=1
				}
				i++
			},10)
    

		</script>
	</body>
</html>