<html>
	<head>
    		<link rel="stylesheet" href="./styles/centrify.css">
    		<link rel="stylesheet" href="./styles/menus.css">
        <script src="./scripts/openingCircle.js"></script>
                 <script src="./scripts/translator.js"></script>
		<script src="/socket.io/socket.io.js"></script>

		<meta charset="UTF-8">
		<style>
			@font-face {
				 font-family: "8bit";
				 src: url("./assets/fonts/8bit.ttf")
			}
			
			body {

				font-family:"8bit";
				background-color:black;
        background-position: 0 0;
        background-size: 100% 100%;
				color:white;
				text-align:center;
			}

     #bg {  
      background-image: url("./assets/fonts/sky.gif");
      background-size: 100% 100%;
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:100%;
      }
		</style>
	</head>
  <div id="bg"></div>
	<body style="cursor:none;">
		<div class="center">
			<p id="logo" style="opacity:0;"></p>
      <button id="playbutton" style="opacity:0;" onclick="closingCircle(()=>{
          location.href= 'menu.html'
        })">Jouer</button></a><br><br>
		</div>
		<script>
			redirect = "menu.html"
			if (location.href.indexOf("#")==-1) location.href = "#0"
     	if (location.href.indexOf("#")!=-1)
      {
        ldd = document.createElement('audio')
        ldd.setAttribute('autoplay','')
        ldd.setAttribute('loop','')
        ldd.src = '/assets/musics/ldd.mp3'
        document.body.appendChild(ldd)
      }

			logo = document.getElementById("logo");
			playbutton = document.getElementById("playbutton");
			nb = parseInt(location.href.split("#")[1])

			function generateCredit(label,text) {
				return `
					${label}
					<br><br><br>
					<h1>
						<b>${text}</b>
					</h1>
				`
			}
			
		function translatingCallback() {
                 logos = [
                     generateCredit(translations["logos.title.createdBy"], 'Vixen Studios'),
                     generateCredit(translations["logos.title.affilate1"], 'Gokiing Studios'),
                     generateCredit(translations["logos.title.affilate2"], 'Le Monde de Roxas'),
                     generateCredit('', translations["logos.title.boldTitle"]),
                     generateCredit('', '<img src="/fonts/banner.jpg">'),
                     ''
                 ]
    }

      window.addEventListener('keydown',(ev)=>{
        //console.log(ev.key)
        if(ev.key=="ArrowLeft" && nb>0 && location.href.indexOf("#5")==-1) {
          location.href = "#"+(nb-1)
          nb--
          i=0
        }
        else if(ev.key=="ArrowRight" && location.href.indexOf("#5")==-1) {
          if(nb!=logos.length-1) location.href = "#"+(nb+1)
          else location.href = redirect
          nb++
          i=0
        }
        else if(ev.key!="ArrowLeft" && location.href.indexOf("#5")==-1) location.href = redirect
			})
						
			i=0;
			logosInterv = setInterval(()=>{
        logo.innerHTML = logos[nb]
				if(i<=100) {logo.style.opacity = i+'%';playbutton.style.opacity = '0%'}
				if(i>=300 && i<=400  && location.href.indexOf("#5")==-1){logo.style.opacity = (400 - i)+'%'}
				if(i<=100  && location.href.indexOf("#5")!=-1) {playbutton.style.opacity = i+'%'}
				if(i==500) {
					if(nb!=logos.length-1) {
            location.href = "#"+(nb+1)
            i=0
          } 
          if (location.href.indexOf("#5")!=-1) 
          {  
            
            document.body.style.cursor='pointer'
            
            document.body.style.cursor='pointer'
            }
					if (location.href.split("#")[1]>5) 
          {
             //location.href= redirect
             //location.href = "#5"
          }
         if (nb==6) 
          {
             location.href = "./logos.html#5"
          }
          if (nb<5) 
          {
            nb+=1
          }
          
				}
				i+=10
			},100)
    

		</script>
	</body>
</html>